# æ•°æ®åº“è¿æ¥æ± 

æ²¡æœ‰è¿æ¥æ± ï¼Œå®¢æˆ·ç«¯æ‰§è¡Œ SQL è¯­å¥çš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. å…ˆåˆ›å»ºä¸€ä¸ªè¿æ¥å¯¹è±¡ï¼›
2. ç„¶åæ‰§è¡Œ SQL è¯­å¥ï¼›
3. å…³é—­è¿æ¥å¯¹è±¡ï¼Œä»è€Œé‡Šæ”¾èµ„æºï¼›

æ¯æ¬¡æ‰§è¡Œ SQL æ—¶ï¼Œéƒ½éœ€è¦åˆ›å»ºã€é”€æ¯è¿æ¥ï¼›é¢‘ç¹åˆ›å»ºã€é”€æ¯çš„è¿‡ç¨‹ï¼Œæ¯”è¾ƒè€—è´¹è®¡ç®—æœºçš„èµ„æºã€‚

æ•°æ®åº“è¿æ¥æ± ï¼Œç±»ä¼¼äºçº¿ç¨‹æ± ï¼Œæ˜¯ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ã€ç®¡ç†æ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰

- ç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œä¼šåœ¨æ•°æ®åº“è¿æ¥æ± ï¼ˆå®¹å™¨ï¼‰ä¸­ï¼Œåˆ›å»ºä¸€å®šæ•°é‡çš„è¿æ¥ï¼ˆConnectionï¼‰å¯¹è±¡ã€‚
- å®ƒå…è®¸åº”ç”¨ç¨‹åºï¼Œé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ªã€‚
- å®ƒä¼šç›‘æ§ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„è¿æ¥ï¼ŒåŠæ—¶é‡Šæ”¾ï¼Œé¿å…æ•°æ®åº“è¿æ¥é—æ¼ã€‚
  1. å®¢æˆ·ç«¯è·å–åˆ°è¿æ¥ï¼ˆConnectionï¼‰å¯¹è±¡ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å»è®¿é—®æ•°æ®åº“ï¼Œæ­¤æ—¶è¿æ¥å¯¹è±¡å¤„äºç©ºé—²ã€‚
  2. æ•°æ®åº“è¿æ¥æ± å‘ç°ï¼šè¿æ¥ï¼ˆConnectionï¼‰å¯¹è±¡çš„ç©ºé—²æ—¶é—´ > è¿æ¥æ± ä¸­é¢„è®¾çš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼›
  3. é‚£ä¹ˆæ•°æ®åº“è¿æ¥æ± å°±ä¼šè‡ªåŠ¨é‡Šæ”¾æ‰è¿™ä¸ªè¿æ¥å¯¹è±¡ã€‚

![æ•°æ®åº“è¿æ¥æ± ](NoteAssets/æ•°æ®åº“è¿æ¥æ± .png)

## ä¸€ã€æ•°æ®åº“è¿æ¥æ± çš„ä¼˜åŠ¿

1. èµ„æºé‡ç”¨ã€‚
2. æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚
3. é¿å…æ•°æ®åº“è¿æ¥é—æ¼ã€‚

## äºŒã€Java ä¸­çš„æ•°æ®åº“è¿æ¥æ± 

SUN å…¬å¸æä¾›äº†æ ‡å‡†çš„æ•°æ®åº“è¿æ¥æ±  `javax.sql.DataSource` æ¥å£ã€‚

Java ç¨‹åºä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®åº“è¿æ¥æ± ï¼Œéƒ½è¦å®ç°è¯¥æ¥å£ï¼Œå¹¶å®ç°å…¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ–¹æ³• `getConnection` ç”¨äºè·å–è¿æ¥ã€‚

å¸¸è§çš„ Java æ•°æ®åº“è¿æ¥æ± æœ‰ï¼š

- C3P0
- DBCP
- Druid
- Hikari (Spring Boot é¡¹ç›®ä¸­é»˜è®¤çš„æ•°æ®åº“è¿æ¥æ± )

 Druidï¼ˆå¾·é²ä¼Šï¼‰æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æ•°æ®åº“è¿æ¥æ± é¡¹ç›®ã€‚

- åŠŸèƒ½å¼ºå¤§ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œæ˜¯å®é™…ä¼ä¸šå¼€å‘ä¸­å¸¸ç”¨çš„æ•°æ®åº“è¿æ¥æ± ä¹‹ä¸€ã€‚

åœ¨ç”± Maven æ„å»ºçš„ Spring Boot é¡¹ç›®ä¸­ï¼Œæ‰‹åŠ¨åˆ‡æ¢ Druid è¿æ¥æ± ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š

â… ã€å¼•å…¥ Druid  å¾·é²ä¼Šè¿æ¥æ± çš„ä¾èµ–ï¼š

demo-project/springbot-mybatis-quickstart/pom.xml

```xml
<dependency>
    <groupId>com.alibaba</groupId>
    <artifactId>druid-spring-boot-starter</artifactId>
    <version>1.2.23</version>
</dependency>

<!-- Spring Boot 3 ç”¨è¿™ä¸ª ğŸ‘‡ -->

<dependency>
    <groupId>com.alibaba</groupId>
    <artifactId>druid-spring-boot-3-starter</artifactId>
    <version>1.2.23</version>
</dependency>
```

â…¡ã€åœ¨ application.properties é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿›è¡Œé…ç½®ï¼š

demo-project/springbot-mybatis-quickstart/src/main/resources/application.properties

```properties
# é©±åŠ¨ç±»åç§°
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# æ•°æ®åº“è¿æ¥ url
spring.datasource.url=jdbc:mysql://localhost:3306/xxxxxx
# è¿æ¥æ•°æ®åº“ç”¨æˆ·å
spring.datasource.username=xxxxxx
# è¿æ¥æ•°æ®åº“å¯†ç 
spring.datasource.password=xxxxxx
```

æˆ–è€… ğŸ‘‡

```properties
spring.datasource.druid.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.druid.url=jdbc:mysql://localhost:3306/xxxxxx
spring.datasource.druid.username=xxxxxx
spring.datasource.druid.password=xxxxxx
```
